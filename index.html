<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoGen Romania SRL - Business Plan</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Exo+2:wght@300;400&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@4/dist/fp.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Exo 2', sans-serif;
            background: linear-gradient(to bottom, #A8E6CF, #D5F5E3, #E0F7FA);
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
            position: relative;
        }
        .parallax-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        .electron {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: radial-gradient(circle, #4CAF50 30%, #2196F3);
            opacity: 0.5;
            will-change: transform;
        }
        header {
            background: linear-gradient(135deg, #4CAF50, #2196F3);
            color: white;
            padding: 60px 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            animation: fadeIn 1s ease-in;
            position: relative;
            z-index: 1;
        }
        header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 42px;
            margin-bottom: 10px;
        }
        header p {
            font-size: 22px;
            opacity: 0.9;
        }
        nav {
            background: #fff;
            width: 60px;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            box-shadow: 2px 0 6px rgba(0,0,0,0.1);
            transition: width 0.3s, transform 0.3s;
            z-index: 1000;
        }
        nav:hover, nav.expanded {
            width: 250px;
        }
        nav.hidden {
            transform: translateX(-60px);
        }
        nav .nav-links {
            display: block;
        }
        nav.hidden .nav-links, nav:not(..expanded) .nav-links {
            display: none;
        }
        nav .current-section {
            display: block;
            padding: 20px 10px;
            font-size: 14px;
            color: #4CAF50;
            text-align: center;
            font-family: 'Orbitron', sans-serif;
            transition: color 0.3s;
        }
        nav .progress-bar {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            margin: 10px 0;
            border-radius: 3px;
        }
        nav .progress {
            height: 100%;
            background: #4CAF50;
            width: 0;
            transition: width 0.2s;
            border-radius: 3px;
        }
        nav .toggle-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            transition: background 0.3s;
        }
        nav .toggle-btn:hover {
            background: #388E3C;
        }
        nav .open-btn {
            position: fixed;
            top: 10px;
            left: 10px;
            background: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            display: none;
            font-family: 'Orbitron', sans-serif;
            transition: background 0.3s;
        }
        nav .open-btn:hover {
            background: #388E3C;
        }
        nav.hidden .open-btn {
            display: block;
        }
        nav ul {
            list-style: none;
            padding: 20px;
        }
        nav li {
            margin: 15px 0;
        }
        nav a {
            text-decoration: none;
            color: #4CAF50;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            font-size: 16px;
            transition: color 0.3s;
        }
        nav a:hover {
            color: #2196F3;
        }
        section {
            padding: 60px 20px;
            max-width: 1000px;
            margin: 0 auto 30px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 8px 8px 16px rgba(0,0,0,0.1), -8px -8px 16px rgba(255,255,255,0.5);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            animation: fadeIn 1s ease-in;
            position: relative;
            z-index: 1;
        }
        section h2 {
            font-family: 'Orbitron', sans-serif;
            color: #4CAF50;
            font-size: 34px;
            text-align: center;
            margin-bottom: 25px;
        }
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            justify-content: center;
            width: 100%;
        }
        .card {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 8px 8px 16px rgba(0,0,0,0.1), -8px -8px 16px rgba(255,255,255,0.5);
            transition: transform 0.3s, box-shadow 0.3s;
            text-align: justify;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 12px 12px 24px rgba(0,0,0,0.15), -12px -12px 24px rgba(255,255,255,0.6);
        }
        .card h3 {
            font-family: 'Orbitron', sans-serif;
            color: #2196F3;
            font-size: 22px;
            margin-bottom: 15px;
            text-align: center;
        }
        .card p {
            font-size: 16px;
            margin-bottom: 10px;
        }
        table {
            width: 100%;
            max-width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 15px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background: #4CAF50;
            color: white;
            font-family: 'Orbitron', sans-serif;
        }
        .chart {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
            border-radius: 12px;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.1), -4px -4px 8px rgba(255,255,255,0.5);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        canvas {
            width: 100% !important;
            height: 250px !important;
        }
        .equation {
            background: #f0f8ff;
            padding: 15px;
            border-left: 5px solid #2196F3;
            margin: 20px auto;
            max-width: 800px;
            font-family: monospace;
            font-size: 15px;
            border-radius: 5px;
            box-shadow: inset 2px 2px 4px rgba(0,0,0,0.05);
            text-align: center;
        }
        .roi-calculator {
            background: #e8f5e9;
            padding: 25px;
            border-radius: 12px;
            margin: 20px auto;
            max-width: 800px;
            box-shadow: 8px 8px 16px rgba(0,0,0,0.1), -8px -8px 16px rgba(255,255,255,0.5);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .roi-calculator input {
            padding: 10px;
            margin: 8px 0;
            width: 100%;
            max-width: 400px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Exo 2', sans-serif;
        }
        .roi-calculator button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            font-family: 'Orbitron', sans-serif;
        }
        .roi-calculator button:hover {
            background: #388E3C;
        }
        .roi-calculator #roiResult {
            text-align: center;
            font-size: 15px;
            margin-top: 10px;
        }
        footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 25px;
            font-size: 16px;
            border-top: 4px solid #4CAF50;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 1;
        }
        .download-btn {
            background: #2196F3;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            margin-top: 20px;
            transition: background 0.3s;
        }
        .download-btn:hover {
            background: #1976D2;
        }
        .consent-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        .consent-modal .modal-content {
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .consent-modal button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            font-family: 'Orbitron', sans-serif;
        }
        .consent-modal button.decline {
            background: #F44336;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes electronMove {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(50px, 50px) rotate(360deg); }
        }
        @media (max-width: 768px) {
            header h1 { font-size: 30px; }
            header p { font-size: 18px; }
            section h2 { font-size: 26px; }
            nav { width: 100%; height: auto; position: fixed; top: 0; left: 0; }
            nav.expanded { width: 100%; height: auto; }
            nav.hidden { transform: translateX(0); height: 60px; }
            nav .current-section { font-size: 12px; padding: 10px; }
            nav .open-btn { left: 10px; top: 10px; }
            .content-grid { grid-template-columns: 1fr; }
            .card { padding: 15px; }
            table { font-size: 14px; }
            table th, table td { padding: 8px; }
            canvas { height: 200px !important; }
            .electron { width: 8px; height: 8px; }
            .consent-modal .modal-content { max-width: 90%; }
        }
        @media (min-width: 769px) and (max-width: 1024px) {
            section { max-width: 90%; }
            .card { padding: 18px; }
        }
    </style>
</head>
<body>
    <div class="parallax-bg" id="parallax-bg"></div>
    <div class="consent-modal" id="consentModal">
        <div class="modal-content">
            <h3>Data Collection Consent</h3>
            <p>We collect browser and device information to improve our site. Do you consent to data collection?</p>
            <button onclick="acceptConsent()">Accept</button>
            <button class="decline" onclick="declineConsent()">Decline</button>
        </div>
    </div>
    <header>
        <h1>EcoGen Romania SRL</h1>
        <p>Leading the Green Revolution with Portable Solar Generators</p>
        <button class="download-btn" onclick="window.print()">Download as PDF</button>
    </header>

    <nav id="nav" class="minimized">
        <button class="toggle-btn" onclick="toggleNav()">X</button>
        <button class="open-btn" onclick="openNav()">☰</button>
        <div class="current-section">Scroll to Start</div>
        <div class="progress-bar"><div class="progress"></div></div>
        <ul class="nav-links">
            <li><a href="#executive-summary">Executive Summary</a></li>
            <li><a href="#market">Market Analysis</a></li>
            <li><a href="#product">Product & Services</a></li>
            <li><a href="#competitors">Competitive Analysis</a></li>
            <li><a href="#marketing">Marketing & Sales</a></li>
            <li><a href="#operations">Operations</a></li>
            <li><a href="#financials">Financials</a></li>
            <li><a href="#funding">Funding</a></li>
            <li><a href="#impact">Impact</a></li>
            <li><a href="#risks">Risks</a></li>
            <li><a href="#roadmap">Roadmap</a></li>
        </ul>
    </nav>

    <section id="executive-summary">
        <h2>Executive Summary</h2>
        <div class="content-grid">
            <div class="card">
                <p>EcoGen Romania SRL manufactures 10kW portable solar generators to replace diesel, targeting Romania’s €1.94B renewable market and the EU’s €50B portable power sector.</p>
                <p>Based in Arad, we reduce costs by 15% via local production and align with EU’s 45% and Romania’s 38% renewable goals by 2030.</p>
                <p>Our AI-optimized generators save €0.15/kWh and reduce 8,250 tons CO2 over 5 years. We project €6.4M revenue by Year 5, with 2,139% ROI.</p>
                <p>Seeking €300,000 for 15% equity, supplemented by €200,000 in grants, for equipment, warehouse, and marketing.</p>
            </div>
        </div>
    </section>

    <section id="market">
        <h2>Market Analysis</h2>
        <div class="content-grid">
            <div class="card">
                <p>Romania’s renewable market grows at >3% CAGR, reaching €1.94B by 2030, driven by €28.5B PNRR funding. Solar capacity rises from 5.9 GW (2025) to 10.39 GW (2030).</p>
                <p>EU’s €630M Horizon Europe supports 600 GW solar by 2030. Demand is strong from 204,000+ prosumers and 79% off-grid growth.</p>
                <p>Our TAM spans a €50B portable power market, targeting prosumers, agriculture, and EU exports.</p>
            </div>
        </div>
        <div class="chart">
            <canvas id="marketChart"></canvas>
        </div>
    </section>

    <section id="product">
        <h2>Product & Services</h2>
        <div class="content-grid">
            <div class="card">
                <h3>Product</h3>
                <p>10kW portable solar generator with 20kWh Li-ion battery, 22% efficient panels, and AI app (20% efficiency boost).</p>
                <p>Zero-emission (0.05 kg CO2/kWh), silent, hybrid option, CE/ISO 14001 compliant.</p>
            </div>
            <div class="card">
                <h3>Services</h3>
                <p>Customization, installation, 5-year warranty, and Arad-based maintenance.</p>
                <p>Ensures reliability and customer satisfaction across residential and industrial applications.</p>
            </div>
        </div>
        <div class="chart">
            <canvas id="productChart"></canvas>
        </div>
    </section>

    <section id="competitors">
        <h2>Competitive Analysis</h2>
        <div class="content-grid">
            <div class="card">
                <p>We surpass EcoFlow (3.6kW, €3,000), Bluetti (2kW, €2,500), and Jackery (1kW, €1,500) with our 10kW capacity.</p>
                <p>Arad production saves 15% costs; AI and hybrid options differentiate us.</p>
                <p>Goal: 5% of Romania’s €1.94B renewable market by 2030.</p>
            </div>
        </div>
        <div class="chart">
            <canvas id="competitorChart"></canvas>
        </div>
    </section>

    <section id="marketing">
        <h2>Marketing & Sales</h2>
        <div class="content-grid">
            <div class="card">
                <p>Target: Romanian prosumers (204,000+), Arad/Timisoara businesses, EU exports (20%).</p>
                <p>Channels: Online platform, AFM partnerships, RENEXPO trade shows.</p>
                <p>Pricing: €8,000/unit (45% margin), €9,500 bundles, 0% financing.</p>
                <p>Promotion: €50,000 Year 1 digital ads, Salesforce CRM, eco-certifications.</p>
                <p>Forecast: 50 units Year 1 (€400,000) to 450 units Year 5 (€6.4M).</p>
            </div>
        </div>
    </section>

    <section id="operations">
        <h2>Operations</h2>
        <div class="content-grid">
            <div class="card">
                <p>Location: 2,000 sqm Arad warehouse (€120,000/year lease), near EU borders.</p>
                <p>Production: 100 units/month by Year 3, using EU/China panels, local batteries.</p>
                <p>Team: 10 initial staff (CEO with 10+ years renewables, CTO with patents), growing to 30.</p>
                <p>Compliance: EU RoHS, Romanian safety standards, ISO 14001 pending.</p>
            </div>
        </div>
    </section>

    <section id="financials">
        <h2>Financial Projections</h2>
        <div class="content-grid">
            <div class="card">
                <h3>Business Model</h3>
                <p>Priced at €8,000 per unit with a 45% margin, manufacturing costs are €4,500 per unit.</p>
                <p>Year 1 OPEX is €200,000, with sales scaling from 50 units to 450 by Year 5.</p>
            </div>
            <div class="card">
                <h3>Projections</h3>
                <table>
                    <tr><th>Year</th><th>Revenue (€)</th><th>EBITDA (€)</th><th>Cum CF (€)</th></tr>
                    <tr><td>1</td><td>400,000</td><td>200,000</td><td>-100,000</td></tr>
                    <tr><td>2</td><td>800,000</td><td>590,000</td><td>490,000</td></tr>
                    <tr><td>3</td><td>1,600,000</td><td>1,379,500</td><td>1,869,500</td></tr>
                    <tr><td>4</td><td>3,200,000</td><td>2,968,475</td><td>4,837,975</td></tr>
                    <tr><td>5</td><td>6,400,000</td><td>6,156,899</td><td>10,994,874</td></tr>
                </table>
                <p>NPV: €7.3M; IRR: 376%; ROI: 2,139% with grants.</p>
            </div>
        </div>
        <div class="chart">
            <canvas id="financialChart"></canvas>
        </div>
    </section>

    <section id="funding">
        <h2>Funding Strategy</h2>
        <div class="content-grid">
            <div class="card">
                <p>Need: €500,000 CAPEX (€300,000 investment, €200,000 grants).</p>
                <p>Sources: AFM (€3.3B budget), PNRR (€457M solar), Horizon Europe (€630M), LIFE, EIB loans.</p>
                <p>Timeline: Apply Q4 2025, secure funding Q1 2026.</p>
            </div>
        </div>
        <div class="chart">
            <canvas id="fundingChart"></canvas>
        </div>
    </section>

    <section id="impact">
        <h2>Impact & Feasibility</h2>
        <div class="content-grid">
            <div class="card">
                <h3>Environmental & Social</h3>
                <p>Reduce 8,250 tons CO2 over 5 years, equivalent to 380,000 trees.</p>
                <p>Create 20 jobs in Arad, boost local economy by €1M.</p>
                <p>Align with EU’s 45% and Romania’s 38% renewable goals by 2030.</p>
            </div>
            <div class="card">
                <h3>Feasibility</h3>
                <p>Rated 8/10 due to market trends, grant support, and robust financials.</p>
                <p>Risks (supply delays, policy changes) mitigated with dual suppliers and diversified funding.</p>
            </div>
        </div>
    </section>

    <section id="risks">
        <h2>Risk Analysis</h2>
        <div class="content-grid">
            <div class="card">
                <p>Risks: Supply chain delays, policy changes, competition.</p>
                <p>Mitigation: Dual suppliers, diversified grants, patented AI tech, insurance, fixed-price contracts.</p>
            </div>
        </div>
    </section>

    <section id="roadmap">
        <h2>Implementation Roadmap</h2>
        <div class="content-grid">
            <div class="card">
                <p>Q3 2025: Finalize grants, lease Arad warehouse.</p>
                <p>Q4 2025: Secure €200,000 grants, begin equipment setup.</p>
                <p>Q1 2026: Launch production, sell 50 units.</p>
                <p>Q2-Q4 2026: Scale marketing, EU exports.</p>
                <p>Ongoing: Monitor KPIs, annual reviews.</p>
            </div>
        </div>
        <div class="chart">
            <canvas id="roadmapChart"></canvas>
        </div>
    </section>

    <footer>
        <p>Contact: info@ecogen.ro | www.ecogen.ro | August 2025</p>
    </footer>

    <script>
        // Parallax Electron Background
        function createElectrons() {
            const bg = document.getElementById('parallax-bg');
            for (let i = 0; i < 20; i++) {
                const electron = document.createElement('div');
                electron.className = 'electron';
                electron.style.left = `${Math.random() * 100}%`;
                electron.style.top = `${Math.random() * 100}%`;
                electron.style.animation = `electronMove ${5 + Math.random() * 5}s linear infinite`;
                electron.style.opacity = 0.3 + Math.random() * 0.5;
                electron.style.transform = `scale(${0.5 + Math.random() * 0.5})`;
                bg.appendChild(electron);
            }
        }
        createElectrons();

        window.addEventListener('scroll', () => {
            const electrons = document.querySelectorAll('.electron');
            const scrollY = window.scrollY;
            electrons.forEach((electron, index) => {
                const speed = 0.1 + index * 0.05;
                electron.style.transform = `translateY(${scrollY * speed}px) scale(${0.5 + Math.random() * 0.5})`;
            });
        });

        // Navigation Toggle
        function toggleNav() {
            const nav = document.getElementById('nav');
            nav.classList.toggle('hidden');
            nav.classList.remove('expanded');
        }
        function openNav() {
            const nav = document.getElementById('nav');
            nav.classList.remove('hidden');
            nav.classList.add('expanded');
        }

        // Dynamic Navigation and Progress Bar
        const nav = document.getElementById('nav');
        const currentSection = document.querySelector('.current-section');
        const progress = document.querySelector('.progress');
        const sections = document.querySelectorAll('section');
        let isScrolling = false;

        function updateNav() {
            let current = '';
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                    current = section.getAttribute('id');
                }
            });
            currentSection.textContent = current
                ? document.querySelector(`a[href="#${current}"]`).textContent
                : 'Scroll to Start';
            
            // Progress Bar
            const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progressPercent = Math.min((window.scrollY / totalHeight) * 100, 100);
            progress.style.width = `${progressPercent}%`;
        }

        window.addEventListener('scroll', () => {
            if (!nav.classList.contains('hidden')) {
                nav.classList.add('minimized');
                nav.classList.remove('expanded');
            }
            if (!isScrolling) {
                updateNav();
            }
        });

        // Smooth scroll for nav links
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                isScrolling = true;
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                targetSection.scrollIntoView({ behavior: 'smooth' });
                setTimeout(() => {
                    isScrolling = false;
                    updateNav();
                }, 1000);
            });
        });

        // Initial update
        updateNav();

        // Consent and Data Collection
        async function acceptConsent() {
            document.getElementById('consentModal').style.display = 'none';
            localStorage.setItem('consentGiven', 'true');
            collectUserData();
        }

        function declineConsent() {
            document.getElementById('consentModal').style.display = 'none';
            localStorage.setItem('consentGiven', 'false');
        }

        async function collectUserData() {
            if (localStorage.getItem('consentGiven') !== 'true') return;

            try {
                // Browser Fingerprint
                const fp = await FingerprintJS.load();
                const result = await fp.get();
                const visitorId = result.visitorId;

                // Browser and Device
                const browser = navigator.userAgent;
                const device = /Mobi|Android/i.test(navigator.userAgent) ? 'Mobile' : 'Desktop';

                // Number of Fonts (Experimental)
                const fonts = window.FontFaceSet ? document.fonts.size : 'Unknown';

                // Location
                let location = 'Unknown';
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        (pos) => {
                            location = `Lat: ${pos.coords.latitude}, Lon: ${pos.coords.longitude}`;
                            sendToTelegram({ visitorId, browser, device, fonts, location });
                        },
                        () => {
                            sendToTelegram({ visitorId, browser, device, fonts, location });
                        }
                    );
                } else {
                    sendToTelegram({ visitorId, browser, device, fonts, location });
                }

                // IP and Proxy (via API)
                const ipResponse = await fetch('https://ipapi.co/json/');
                const ipData = await ipResponse.json();
                const ip = ipData.ip || 'Unknown';
                const proxy = ipData.proxy ? 'Yes' : 'No';

                sendToTelegram({ visitorId, browser, device, fonts, location, ip, proxy });
            } catch (e) {
                console.error('Data collection failed:', e);
            }
        }

        async function sendToTelegram(data) {
            const serverlessEndpoint = 'YOUR_SERVERLESS_ENDPOINT'; // e.g., https://your-vercel-app.vercel.app/api/telegram
            try {
                await fetch(serverlessEndpoint, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
            } catch (e) {
                console.error('Telegram send failed:', e);
            }
        }

        // Check Consent on Load
        window.onload = () => {
            if (!localStorage.getItem('consentGiven')) {
                document.getElementById('consentModal').style.display = 'flex';
            } else if (localStorage.getItem('consentGiven') === 'true') {
                collectUserData();
            }
        };

        // Chart.js Graphics
        try {
            // Market: Line Chart
            new Chart(document.getElementById('marketChart'), {
                type: 'line',
                data: {
                    labels: ['2025', '2026', '2027', '2028', '2029', '2030'],
                    datasets: [{
                        label: 'Solar Capacity (GW)',
                        data: [5.9, 6.8, 7.8, 8.8, 9.8, 10.39],
                        borderColor: '#4CAF50',
                        backgroundColor: 'rgba(76, 175, 80, 0.2)',
                        tension: 0.4,
                        pointStyle: 'circle',
                        pointRadius: 5,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { labels: { font: { family: 'Orbitron', size: 12 } } } },
                    scales: { y: { beginAtZero: false, title: { display: true, text: 'GW' } } },
                    animation: { duration: 1000, easing: 'easeInOutQuad' }
                }
            });

            // Product: Doughnut Chart
            new Chart(document.getElementById('productChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Capacity', 'Battery', 'Panels', 'AI App'],
                    datasets: [{
                        data: [25, 25, 25, 25],
                        backgroundColor: ['#4CAF50', '#2196F3', '#81C784', '#42A5F5']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { font: { family: 'Orbitron', size: 12 } } } },
                    animation: { duration: 1000, easing: 'easeInOutQuad' }
                }
            });

            // Competitors: Scatter Chart
            new Chart(document.getElementById('competitorChart'), {
                type: 'scatter',
                data: {
                    datasets: [
                        { label: 'EcoFlow', data: [{ x: 3.6, y: 3000 }], backgroundColor: '#2196F3' },
                        { label: 'Bluetti', data: [{ x: 2, y: 2500 }], backgroundColor: '#2196F3' },
                        { label: 'Jackery', data: [{ x: 1, y: 1500 }], backgroundColor: '#2196F3' },
                        { label: 'EcoGen', data: [{ x: 10, y: 8000 }], backgroundColor: '#4CAF50' }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { labels: { font: { family: 'Orbitron', size: 12 } } } },
                    scales: {
                        x: { title: { display: true, text: 'Capacity (kW)' } },
                        y: { title: { display: true, text: 'Price (€)' } }
                    },
                    animation: { duration: 1000, easing: 'easeInOutQuad' }
                }
            });

            // Financials: Bar Chart
            new Chart(document.getElementById('financialChart'), {
                type: 'bar',
                data: {
                    labels: ['2025', '2026', '2027', '2028', '2029'],
                    datasets: [
                        {
                            label: 'Revenue (€)',
                            data: [400000, 800000, 1600000, 3200000, 6400000],
                            backgroundColor: 'rgba(76, 175, 80, 0.5)'
                        },
                        {
                            label: 'EBITDA (€)',
                            data: [200000, 590000, 1379500, 2968475, 6156899],
                            backgroundColor: 'rgba(33, 150, 243, 0.5)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { labels: { font: { family: 'Orbitron', size: 12 } } } },
                    scales: { y: { beginAtZero: true, title: { display: true, text: '€' } } },
                    animation: { duration: 1000, easing: 'easeInOutQuad' }
                }
            });

            // Funding: Pie Chart
            new Chart(document.getElementById('fundingChart'), {
                type: 'pie',
                data: {
                    labels: ['Grants', 'Investment'],
                    datasets: [{
                        data: [40, 60],
                        backgroundColor: ['#4CAF50', '#2196F3']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { font: { family: 'Orbitron', size: 12 } } } },
                    animation: { duration: 1000, easing: 'easeInOutQuad' }
                }
            });

            // Roadmap: Line Chart
            new Chart(document.getElementById('roadmapChart'), {
                type: 'line',
                data: {
                    labels: ['Q3 2025', 'Q4 2025', 'Q1 2026', 'Q2 2026', 'Q3 2026'],
                    datasets: [{
                        label: 'Milestones',
                        data: [1, 2, 3, 4, 5],
                        borderColor: '#4CAF50',
                        backgroundColor: 'rgba(76, 175, 80, 0.2)',
                        tension: 0.4,
                        pointStyle: 'circle',
                        pointRadius: 5,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { labels: { font: { family: 'Orbitron', size: 12 } } } },
                    scales: { y: { display: false } },
                    animation: { duration: 1000, easing: 'easeInOutQuad' }
                }
            });
        } catch (e) {
            console.error('Chart.js initialization failed:', e);
        }

        // ROI Calculator
        function calculateROI() {
            const hours = parseFloat(document.getElementById('hours').value) || 0;
            const years = parseInt(document.getElementById('years').value) || 0;
            const dieselCost = parseFloat(document.getElementById('dieselCost').value) || 0;
            const solarPrice = 8000, dieselPrice = 5000;
            const annualKWh = hours * 10 * 365;
            const dieselAnnualCost = annualKWh * dieselCost;
            const solarAnnualCost = annualKWh * 0.05;
            const annualSavings = dieselAnnualCost - solarAnnualCost;
            const totalSavings = annualSavings * years;
            const upfrontDiff = solarPrice - dieselPrice;
            const payback = annualSavings > 0 ? upfrontDiff / annualSavings : 'N/A';
            const co2Reduction = annualKWh * (0.8 - 0.05) * years / 1000;

            document.getElementById('roiResult').innerHTML = `
                <p><strong>Results:</strong></p>
                <p>Annual Savings: €${annualSavings.toFixed(2)}</p>
                <p>Total Savings: €${totalSavings.toFixed(2)}</p>
                <p>Payback Period: ${typeof payback === 'number' ? payback.toFixed(2) + ' years' : payback}</p>
                <p>CO2 Reduced: ${co2Reduction.toFixed(2)} tons</p>
                <p>${payback !== 'N/A' && payback < years ? 'Profitable Investment!' : 'Adjust inputs for better ROI.'}</p>
            `;
        }
    </script>
</body>
</html>